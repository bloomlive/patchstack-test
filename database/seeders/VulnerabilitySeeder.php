<?php

namespace Database\Seeders;

use App\Models\Vulnerability;
use App\Models\VulnerabilityFactor;
use App\Models\VulnerabilityFactorType;
use Illuminate\Database\Seeder;

class VulnerabilitySeeder extends Seeder
{
    public function run()
    {
        Vulnerability::factory()
            ->count(26)
            ->create()
            ->each(fn(Vulnerability $vulnerability) => VulnerabilityFactorType::all()
                ->each(fn(VulnerabilityFactorType $type) => VulnerabilityFactor::factory()
                    ->for($type)
                    ->for($vulnerability)
                    ->create()));
    }
}
